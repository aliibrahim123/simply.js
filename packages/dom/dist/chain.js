var g=Object.defineProperty;var o=(n,e)=>g(n,"name",{value:e,configurable:!0});function c(n,e=document){if(!n)return[];if(!e?.querySelectorAll)throw new TypeError("el: root element of type ("+e?.constructor?.name+"), expected (Element) or (Document)");if(typeof n=="string"){if(n.startsWith("<")){var t=c.tag("div");return t.innerHTML=n,Array.from(t.children)}return Array.from(e.querySelectorAll(n))}else return n instanceof HTMLElement?[n]:Array.isArray(n)?n:"length"in n?[...n]:c.obj(n)}o(c,"$el");Object.assign(c,{tag:document.createElement.bind(document),obj(n={}){if(typeof n=="string")return document.createTextNode(n);var{tag:e="div",text:t,classList:r,style:s,attr:l,event:d,children:f,...p}=n,a=c.tag(e);if(Array.isArray(r)?a.className=r.join(" "):typeof r=="string"&&(a.className=r),l)for(let u in l)a.setAttribute(u,l[u]);if(t&&(a.innerText=t),s&&Object.assign(a.style,s),d)for(let u in d)d[u].forEach(E=>a.addEventListener(u,E));return Object.assign(a,p),Array.isArray(f)&&f.forEach(u=>{a.append(c.obj(u))}),a}});globalThis.$el=c;var h=c;var i=class{constructor(e,t){this.els=h(e,t),this.els.length===0&&console.warn("cdom: empty chained dom")}static extend(e){Object.assign(this.prototype,e)}elEach(e){return this.els.forEach(e),this}each(e){return this.els.forEach((t,r,s)=>e(new i(t),r,s)),this}add(e){var t=h(e);return this.els.push(...t),this}get cloneSelf(){return new i([...this.els])}get cloneEls(){return new i([...this.els.map(e=>e.cloneNode(!0))])}get first(){return new i([this.els[0]])}get last(){return new i([this.els[this.els.length-1]])}get(e){return new i(this.els[e])}map(e){return new i(this.els.map(e))}filter(e){return new i(this.els.filter(e))}slice(e,t){return new i(this.els.slice(e,t))}until(e){var t=!0;return new i(this.els.filter((r,s,l)=>t&&(t=!e(r,s,l))))}untilRev(e){return this.until.call({els:this.els.reverse()},e)}find(e){return new i(this.els.filter(t=>t.matches(e)))}removeByArr(e){return new i(this.els.filter(t=>!e.includes(t)))}removeBySel(e){return this.els=this.els.filter(t=>!t.matches(e)||t.remove()),this}has(e){return this.els.some(t=>t.matches(e))}all(e){return this.els.every(t=>t.matches(e))}index(e){return this.els.findIndex(t=>t.matches(e))}closest(e){return new i(this.els[0].closest(e))}clean(){return this.els=this.els.filter(e=>document.body.contains(e)),this}get isInDom(){return document.body.contains(this.els[0])}get reverse(){return new i(this.els.reverse())}select(e){return new i(this.els[0].querySelectorAll(e))}get parent(){return new i(this.els[0].parentElement)}get parents(){for(var e=[],t=this.els[0].parentNode;t;)e.push(t),t=t.parentElement;return new i(e)}get children(){return new i(this.els[0].children)}get content(){return new i(this.els[0].childNodes)}get next(){return new i(this.els[0].nextElementSibling)}get prev(){return new i(this.els[0].previousElementSibling)}get siblings(){return new i(this.els[0].parentElement?.children).filter(e=>e!==this.els[0])}get nextSiblings(){for(var e=[],t=this.els[0].nextElementSibling;t;)e.push(t),t=t.nextElementSibling;return new i(e)}get prevSiblings(){for(var e=[],t=this.els[0].previousElementSibling;t;)e.push(t),t=t.previousElementSibling;return new i(e)}html(e){if(e)this.elEach(t=>t.innerHTML=e);else return this.els[0].innerHTML;return this}text(e){if(e)this.elEach(t=>t.innerText=e);else return this.els[0].innerText;return this}addClass(e){return this.elEach(t=>t.classList.add(e)),this}removeClass(e){return this.elEach(t=>t.classList.remove(e)),this}toggleClass(e){return this.elEach(t=>t.classList.toggle(e)),this}hasClass(e){return this.els[0].classList.contains(e)}attr(e,t){if(typeof e=="string")if(t!==void 0)t===null?this.elEach(r=>r.removeAttribute(e)):this.elEach(r=>r.setAttribute(e,t));else return this.els[0].getAttribute(e);else if(e)for(let r in e)this.elEach(s=>s.setAttribute(r,e[r]));else return Object.fromEntries(Array.from(this.els[0].attributes).map(r=>[r.name,r.value]));return this}prop(e,t){if(typeof e=="string")if(t!==void 0)this.elEach(r=>r[e]=t);else return this.els[0][e];else for(let r in e)this.elEach(s=>s[r]=e[r]);return this}call(e,...t){return this.elEach(r=>r[e](...t)),this}callr(e,...t){return this.els.map(r=>r[e](...t))}css(e,t){if(typeof e=="string")if(t)this.elEach(s=>s.style.setProperty(e,t));else return this.els[0].style.getPropertyValue(e);else if(e)for(let s in e)this.elEach(l=>l.style.setProperty(s,e[s]));else{var r=this.els[0].style;return Object.fromEntries(Array.from(r).map(s=>[s,r.getPropertyValue(s)]))}return this}data(e,t){if(typeof e=="string")if(t)this.elEach(r=>r.dataset[e]=t);else return this.els[0].dataset[e];else if(e)this.elEach(r=>Object.assign(r.dataset,e));else return{...this.els[0].dataset};return this}removeData(e){return this.elEach(t=>delete t.dataset[e]),this}empty(){return this.elEach(e=>e.innerHTML=""),this}append(e){var t=h(e);return this.elEach(r=>r.append(...t.map(s=>s.cloneNode(!0)))),this}prepend(e){var t=h(e);return this.elEach(r=>r.prepend(...t.map(s=>s.cloneNode(!0)))),this}before(e){var t=h(e);return this.elEach(r=>r.before(...t.map(s=>s.cloneNode(!0)))),this}after(e){var t=h(e);return this.elEach(r=>r.after(...t.map(s=>s.cloneNode(!0)))),this}appendTo(e){return e.append(...this.els),this}prependTo(e){return e.prepend(...this.els),this}insertBefore(e){return e.before(...this.els),this}insertAfter(e){return e.after(...this.els),this}replaceWith(e){var t=h(e);return this.elEach(r=>r.replaceWith(...t.map(s=>s.cloneNode(!0)))),this}on(...e){return this.elEach(t=>t.addEventListener(...e)),this}off(...e){return this.elEach(t=>t.removeEventListener(...e)),this}once(e,t,r={}){return this.elEach(s=>s.addEventListener(e,t,{once:!0,...r})),this}trigger(e,t={}){var r=typeof e=="string"?new Event(e,t):e;return this.elEach(s=>s.dispatchEvent(r)),this}get position(){return this.els[0].getBoundingClientRect()}scrollInto(e){return this.els[0].scrollIntoView(e),this}animate(...e){return this.els[0].animate(...e)}animateAll(...e){return this.elEach(t=>t.animate(...e)),this}hide(){return this.elEach(e=>e.style.display="none"),this}show(){return this.elEach(e=>e.style.display="initial"),this}toggle(){return this.elEach(e=>e.style.display=e.style.display==="none"?"initial":"none"),this}wrapEach(e){var t=h(e)[0];return this.elEach(r=>{var s=r.previousElementSibling,l=t.cloneNode(!0);s?s.after(l):r.parentNode&&r.parentNode.append(l),l.append(r)}),this}wrapAll(e){var t=h(e)[0];return t.append(...this.els),this}unwrap(){return this.elEach(e=>e.parentNode?e.parentNode.after(e):void 0),this}};o(i,"CDom");h.chain=(n,e=document)=>n?new i(n,e):t=>new i(t,e);globalThis.CDom=i;export{h as $el,i as CDom};
