(()=>{var O=Object.defineProperty;var a=(r,e)=>O(r,"name",{value:e,configurable:!0});var l=a((r,e,t)=>{var i=typeof r,u={};if(i!=="object"&&i!=="function")return r;if(r===null)return null;var n=r.constructor.name;if(i==="function"&&!e.function)return value;if(t.has(r))return t.get(r);var f=e.copiers[n];if(f){if(u=f(r,e,t),u===r)return r}else"Node"in globalThis&&r instanceof Node?u=o(r,e,t):(e.refs&&t.set(r,u),e.strict||s(r,u,e,t,n));return e.strict&&y(r,u,e,t,n),e.refs==="circular"&&t.delete(r),u},"handlecopy"),v={Array(r,e,t){var i=[];e.refs&&t.set(r,i);for(let u=0;u<r.length;u++)i[u]=l(r[u],e,t);return i},Function(r,e,t){var i=a(function(...u){return r.call(this,...u)},"clone");return e.refs&&t.set(r,i),i},Promise(r,e,t){if(!e.function)return r;var i=new Promise((u,n)=>{r.then(u),r.catch(n)});return e.refs&&t.set(r,i),i},Generator(r,e,t){if(!e.function)return r;var i=a(function*(...u){return r.call(this,...u)},"clone");return e.refs&&t.set(r,i),i},Date(r){return new Date(r)},RegExp(r){return new RegExp(r)},Map(r,e,t){var i=new Map;return e.refs&&t.set(r,i),r.forEach((u,n)=>{i.set(n,l(u,e,t))}),i},Set(r,e,t){var i=new Set;return e.refs&&t.set(r,i),r.forEach(u=>{i.add(l(u,e,t))}),i},WeakMap(r){return r},WeakSet(r){return r},Number(r,e,t){return e.toPrimitive?r.valueOf():new Number(r.valueOf())},String(r,e,t){return e.toPrimitive?r.valueOf():new String(r.valueOf())},Boolean(r,e,t){return e.toPrimitive?r.valueOf():new Boolean(r.valueOf())},BigInt(r,e,t){return e.toPrimitive?r.valueOf():new BigInt(r.valueOf())},Error(r){return r},AggregateError(r){return r},EvalError(r){return r},RangeError(r){return r},ReferenceError(r){return r},SyntaxError(r){return r},TypeError(r){return r},ArrayBuffer(r){return r.slice(0)},Float32Array(r){return r.slice(0)},Float64Array(r){return r.slice(0)},Int8Array(r){return r.slice(0)},Int16Array(r){return r.slice(0)},Int32Array(r){return r.slice(0)},Uint8Array(r){return r.slice(0)},Uint8ClampedArray(r){return r.slice(0)},Uint16Array(r){return r.slice(0)},Uint32Array(r){return r.slice(0)},Uint64Array(r){return r.slice(0)},Blob(r){return r.slice(0,r.size,r.type)},DataView(r){return new DataView(r.buffer.slice(0))}},o=a((r,e,t)=>{if(!e.domNode)return r;var i=r.cloneNode(!0);return d(r,i,e,t),i},"handleDom"),d=a((r,e,t,i)=>{i.set(r,e),[...r.children].forEach((u,n)=>d(u,e.children[n],t,i)),t.domNodeProps&&(t.strict?y(r,e,t,i):s(r,e,t,i))},"handleDomNode"),s=a((r,e,t,i,u)=>{Object.keys(r).forEach(n=>{if(!t.skip.includes(n)){if(t.donotCopy.includes(n))return r[n];e[n]=l(r[n],t,i),u!=="Object"&&Object.setPrototypeOf(e,Object.getPrototypeOf(r))}})},"copyPropsNormal"),y=a((r,e,t,i,u)=>{t.refs&&i.set(r,e),Object.getOwnPropertyNames(r).forEach(n=>{if(n in e||t.skip.includes(n))return;let f=Object.getOwnPropertyDescriptor(r,n);t.donotCopy.includes(n)&&Object.defineProperty(e,n,f),Object.defineProperty(e,n,"value"in f?{...f,value:l(f.value,t,i)}:f)}),Object.getOwnPropertySymbols(r).forEach(n=>{if(n in e||t.skip.includes(n))return;let f=Object.getOwnPropertyDescriptor(r,n);t.donotCopy.includes(n)&&Object.defineProperty(e,n,f),Object.defineProperty(e,n,"value"in f?{...f,value:l(f.value,t,i)}:f)}),u!=="Object"&&Object.setPrototypeOf(e,Object.getPrototypeOf(r))},"copyPropsStrict");var c=a((r,e={})=>(e={...c.defaults,...e},l(r,e,new Map)),"$copy");c.defaults={strict:!1,refs:"circular",function:!1,toPrimitive:!0,copiers:v,skip:["caller","callee"],donotCopy:["prototype","arguments"],domNode:!1,domNodeProps:!1};c.dom=(r,e)=>(e={...c.defaults,domNode:!0,...e},o(r,e,new Map));var p=c;globalThis.$copy=p;})();
